# BEAST - Binary Evolution And Sentience Toolkit

[![CircleCI badge](https://circleci.com/gh/dedicate-project/beast.svg?style=svg)](https://circleci.com/gh/dedicate-project/beast)
[![Coverage Status](https://coveralls.io/repos/github/dedicate-project/beast/badge.svg?branch=main)](https://coveralls.io/github/dedicate-project/beast?branch=main)


## Operators

| Operator                                          | Code | Prm # | Description                                                                                                                                                                                                                                                                                                                                                   | Impl |
|---------------------------------------------------|------|-------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------|
| No Op                                             | 0x00 | 0     | ``noop()``: Performs no operation                                                                                                                                                                                                                                                                                                                             | y    |
| Declare Variable                                  | 0x01 | 2     | ``declare(v)``: Declare the numeric variable index ``v``.                                                                                                                                                                                                                                                                                                     | y    |
| Set Variable                                      | 0x02 | 3     | ``set_variable(v, f, c)``: Set the value of the numerical variable index ``v``. Follow variable links if ``f`` is ``true``, otherwise don't follow links. In the resolved variable, assign the value ``c``.                                                                                                                                                   | y    |
| Undeclare Variable                                | 0x03 | 1     | ``undeclare_variable(v)``: Undeclare the numerical variable index ``v``.                                                                                                                                                                                                                                                                                      | y    |
| Add Constant to Variable                          | 0x04 | 3     | ``add_constant_to_variable(v, f, c)``: Add the value `c` to the numerical variable index ``v``. Resolve ``v``'s links if ``f`` is ``true``, else don't resolve the links.                                                                                                                                                                                     | y    |
| Add Variable to Variable                          | 0x05 | 4     | ``add_variable_to_variable(vsrc, fsrc, vdest, fdest)``: Add the content of the variable ``vsrc`` (resolve if ``fsrc`` is ``true``) to the content of the variable ``vdest`` (resolve if ``fdest`` is ``true``).                                                                                                                                               | y    |
| Subtract Constant from Variable                   | 0x06 | 3     | ``subtract_constant_from_variable(v, f, c)``: Subtract the value ``c`` from the numerical variable index ``v``. Resolve ``v``'s links if ``f`` is ``true``, else don't resolve the links.                                                                                                                                                                     | y    |
| Subtract Variable from Variable                   | 0x07 | 4     | ``subtract_variable_from_variable(vsrc, fsrc, vdest, fdest)``: Subtract the content of the variable ``vsrc`` (resolve if ``fsrc`` is ``true``) from the content of the variable ``vdest`` (resolve if ``fdest`` is true).                                                                                                                                     | y    |
| Relative Jump to Variable Address if Variable > 0 | 0x08 | 4     | ``relative_var_jump_if_gt0(c, fc, v, fv)``: Perform a relative jump by the value in variable ``v`` if the condition variable ``c`` evaluates to a value > 0. Follow ``c``'s links only if ``fc`` is ``True``, and follow ``v``'s links only if ``fv`` is ``True``.                                                                                            | y    |
| Relative Jump to Variable Address if Variable < 0 | 0x09 | 4     | ``relative_var_jump_if_lt0(c, fc, v, fv)``: Perform a relative jump by the value in variable ``v`` if the condition variable ``c`` evaluates to a value < 0. Follow ``c``'s links only if ``fc`` is ``True``, and follow ``v``'s links only if ``fv`` is ``True``.                                                                                            | y    |
| Relative Jump to Variable Address if Variable = 0 | 0x0a | 4     | ``relative_var_jump_if_eq0(c, fc, v, fv)``: Perform a relative jump by the value in variable ``v`` if the condition variable ``c`` evaluates to a value == 0. Follow ``c``'s links only if ``fc`` is ``True``, and follow ``v``'s links only if ``fv`` is ``True``.                                                                                           | y    |
| Absolute Jump to Variable Address if Variable > 0 | 0x0b | 4     | ``absolute_var_jump_if_gt0(c, fc, v, fv)``: Perform an absolute jump to the value in variable ``v`` if the condition variable ``c`` evaluates to a value > 0. Follow ``c``'s links only if ``fc`` is ``True``, and follow ``v``'s links only if ``fv`` is ``True``.                                                                                           | y    |
| Absolute Jump to Variable Address if Variable < 0 | 0x0c | 4     | ``absolute_var_jump_if_lt0(c, fc, v, fv)``: Perform an absolute jump to the value in variable ``v`` if the condition variable ``c`` evaluates to a value < 0. Follow ``c``'s links only if ``fc`` is ``True``, and follow ``v``'s links only if ``fv`` is ``True``.                                                                                           | y    |
| Absolute Jump to Variable Address if Variable = 0 | 0x0d | 4     | ``absolute_var_jump_if_eq0(c, fc, v, fv)``: Perform an absolute jump to the value in variable ``v`` if the condition variable ``c`` evaluates to a value == 0. Follow ``c``'s links only if ``fc`` is ``True``, and follow ``v``'s links only if ``fv`` is ``True``.                                                                                          | y    |
| Relative Jump if Variable > 0                     | 0x0e | 3     | ``relative_jump_if_var_gt0(c, fc, a)``: Perform a relative jump by ``a`` if the condition variable ``c`` evaluates to a value > 0. Follow ``c``'s reference links only if ``fc`` is ``True``.                                                                                                                                                                 | y    |
| Relative Jump if Variable < 0                     | 0x0f | 3     | ``relative_jump_if_var_lt0(c, fc, a)``: Perform a relative jump by ``a`` if the condition variable ``c`` evaluates to a value < 0. Follow ``c``'s reference links only if ``fc`` is ``True``.                                                                                                                                                                 | y    |
| Relative Jump if Variable = 0                     | 0x10 | 3     | ``relative_jump_if_var_eq0(c, fc, a)``: Perform a relative jump by ``a`` if the condition variable ``c`` evaluates to a value == 0. Follow ``c``'s reference links only if ``fc`` is ``True``.                                                                                                                                                                | y    |
| Absolute Jump if Variable > 0                     | 0x11 | 3     | ``absolute_jump_if_var_gt0(c, fc, a)``: Perform an absolute jump to ``a`` if the condition variable ``c`` evaluates to a value > 0. Follow ``c``'s reference links only if ``fc`` is ``True``.                                                                                                                                                                | y    |
| Absolute Jump if Variable < 0                     | 0x12 | 3     | ``absolute_jump_if_var_lt0(c, fc, a)``: Perform an absolute jump to ``a`` if the condition variable ``c`` evaluates to a value < 0. Follow ``c``'s reference links only if ``fc`` is ``True``.                                                                                                                                                                | y    |
| Absolute Jump if Variable = 0                     | 0x13 | 3     | ``absolute_jump_if_var_eq0(c, fc, a)``: Perform an absolute jump to ``a`` if the condition variable ``c`` evaluates to a value == 0. Follow ``c``'s reference links only if ``fc`` is ``True``.                                                                                                                                                               | y    |
| Load Memory Size into Variable                    | 0x14 | 2     | ``load_memory_size_into_variable(v, f)``: Assign the number of possible variable slots into variable ``v``, resolve ``v``'s links only if ``f`` is ``True``.                                                                                                                                                                                                  | y    |
| Check if Variable is Input                        | 0x15 | 4     | ``check_if_variable_is_input(s, fs, d, fd)``: Determine if variable ``s`` is declared as an input variable (follow its links if ``fs`` is ``True``). If so, store the value ``0x1`` in the variable ``d`` (follow its links if ``fd`` is ``True``), otherwise store ``0x0``.                                                                                  | y    |
| Check if Variable is Output                       | 0x16 | 4     | ``check_if_variable_is_output(s, fs, d, fd)``: Determine if variable ``s`` is declared as an output variable (follow its links if ``fs`` is ``True``). If so, store the value ``0x1`` in the variable ``d`` (follow its links if ``fd`` is ``True``), otherwise store ``0x0``.                                                                                | y    |
| Load Input count into Variable                    | 0x17 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Load Output count into Variable                   | 0x18 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Load current address into Variable                | 0x19 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Print Variable                                    | 0x1a | 3     | ``print_variable(v, fv, a)``: Print the content of the variable ``v`` (follow its links only if ``fv`` is ``True``). If ``a`` is ``True``, print the least significant byte if ``v``'s value as a string character (based on its ASCII value).                                                                                                                | y    |
| Set String Table Entry                            | 0x1b | 3     | ``set_string_table_entry(i, s)``: Set the string table entry at position ``i`` to the value stored in the string ``s``. ``s`` must be null-terminated. ``i`` must be within the string table's available number of entries, and ``s``'s length must be within the string table entries' maximum length. Both are defined by the VM executing the instruction. | y    |
| Print String from String Table                    | 0x1c | 1     | ``print_string_table_entry(i)``: Print the string table entry at position ``i`` to screen. The position must have been set before this instruction.                                                                                                                                                                                                           | y    |
| Load String Table Limit into Variable             | 0x1d |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Terminate                                         | 0x1e | 1     | ``terminate(c)``: Terminate the program immediately and set the return code to the value ``c``.                                                                                                                                                                                                                                                               | y    |
| Copy Variable                                     | 0x1f |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Load String Item Length into Variable             | 0x20 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Load String Item into Variables                   | 0x21 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Perform System Call                               | 0x22 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Bit-shift Variable Left                           | 0x23 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Bit-shift Variable Right                          | 0x24 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Bit-wise Invert Variable                          | 0x25 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Bit-wise AND two Variables                        | 0x26 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Bit-wise OR two Variables                         | 0x27 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Bit-wise XOR two Variables                        | 0x28 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Load Random Value into Variable                   | 0x29 |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Modulo Variable by Constant                       | 0x2a |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Modulo Variable by Variable                       | 0x2b |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Rotate Variable Left                              | 0x2c |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Rotate Variable Right                             | 0x2d |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
| Unconditional Jump                                | 0x2e |       |                                                                                                                                                                                                                                                                                                                                                               | n    |
